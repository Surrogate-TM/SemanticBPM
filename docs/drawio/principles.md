# Оглавление
## Подходы к формализации связи объектов (фигур)
## Подходы к кодированию id фигур и стрелок (отношений)

# Подходы к формализации связи объектов (фигур)
Как задавать связи двух объектов, т.е. двух фигур? Через source & target, например, будет задача связь объекта с id=3 с id=4 как ... source="3" target="4"

Собственно это основной момент почему используем drawio, а не svg. Если подобное как-то можно на svg - раскажите. Через source \ target нам удается приблизить формат к RDF без всяких расчетов координат фигур. 
У нас еще есть возможность задать сторону прикрепления линии через узанание стороны фигуры к которой нужно прикрепить стрелку: Nord Sud Est Vest (и их комбинации, т.е. 8 точек).

См. пример "Excel to drawio" SemanticBPM/docs/drawio/Excel_to_drawio : Книга1_w10.xlsm \ file.xml

# Подходы к кодированию id фигур и стрелок (отношений)
Если посиотреть XML .drawio, то редактор .drawio генерит сложный id, например,  <mxCell id="mdkswg4nUfZF6YRSqMzf33" value="Process2". Лучше его заменить на свой. Иначе в RDF человеку будет не разобраться. 

Для замены на нужный id нужно уметь его вычислять. Могут быть разные подходы. Расмотрим два. 

Первый: генерим id из имени объекта. Если value="Процесс хороший", то id = "Процесс_хороший". Ограничение этого метода: не должно быть повтором имен на одной схеме. Для начала можно этого правила придерживаться. Или пробежаться по объектам схемы и при наличии одноименного в конец добавлять следующий номер через специальный знак. Например, если на схеме уже есть "Процесс_хороший", то при записи фигуры нужно переимовать id="mdkswg4nUfZF6YRSqMzf33" в "Процесс_хороший-1". Следующий одноименный будет иметь id="Процесс_хороший-2" и т.д. Это обеспечит уникальность id внутри схемы. Вне схемы уникальность будет обеспечиваться приставкой к id материнского процесса (который в заголовке схемы процесса).

В примере "Excel to drawio" SemanticBPM/docs/drawio/Excel_to_drawio : Книга1_w10.xlsm \ file.xml через скрипт excel генерируется схема процесса в соотвествии с заданным правилом. Задаются читаемые id как объетов, так и связей. 

id связи можно задачать через пару id связываемых объектов.
